\begin{tabular}{|c|c|c|c|} \hline
    & 조건 없음 & 단사 함수 & 전사 함수 \\ \hline
    함수 일치 & $k^n$ & $k! / (k-n)!$ & $k! \times S_2(n, k)$ \\ \hline
    공 구별 X & $C(n+k-1, n)$ & $C(k, n)$ & $C(n-1, n-k)$ 조심 \\ \hline
    상자 구별 X & $B(n, k)$ & $[n \leq k]$ & $S_2(n, k)$ \\ \hline
    모두 구별 X & $P_k(n+k)$ & $[n \leq k]$ & $P_k(n)$ \\ \hline
\end{tabular}

\begin{itemize}[noitemsep]
    \item 단사 함수: 상자에 공 최대 1개, 전사 함수: 상자에 공 최소 1개
    \item 중복 조합: $C(n+k-1, n) = H(n, k)$
    \item 공 구별 X, 전사 함수에서 $n=k=0$일 때 정답 1인 거 조심
    \item 교란 순열: 모든 $i$에 대해 $\pi(i) \ne i$가 성립하는 길이 $n$ 순열 개수\\
    초항(0-based): 1, 0, 1, 2, 9, 44, 265, 1854\\
    일반항: $D(n) = \sum_{k=0}^{n} (-1)^kn!/k!$, $D(n) \approx n!/e$\\
    점화식: $D(0)=1; D(1)=0;$ $D(n) = (n-1)(D(n-1)+D(n-2))$\\
    생성함수(EGF): $e^{-x}/(1-x)$
    \item 카탈란 수\\
    초항(0-based): 1, 1, 2, 5, 14, 42, 132, 429, 1430, 4862, 16796, 58786\\
    일반항: $Cat(n) = Comb(2n, n) / (n+1) = C(2n, n) - C(2n, n+1)$\\
    점화식: $Cat(0) = 1;$ $Cat(n) = \sum_{k=0}^{n-1} Cat(k) \times Cat(n-k-1)$\\
    생성함수(OGF): $(1-\sqrt{1-4x})/(2x)$\\
    여는 괄호 $n$개, 닫는 괄호 $k(\leq n)$개 = $C(n+k, k) \times (n-k+1) / (n+1)$
    \item 제 1종 스털링 수: $k$개의 사이클로 구성된 길이 $n$ 순열 개수\\
    %초항(0-based, 삼각형): 1, 0, 1, 0, 1, 1, 0, 2, 3, 1, 0, 6, 11, 6, 1\\
    점화식: $S_1(n,0)=[n=0];$ $S_1(n,k)=S_1(n-1,k-1) + S_1(n-1,k) \times (n-1)$, 생성함수(EGF): $(-\ln(1-x))^k / k!$\\
    성질: $\sum_{k=0}^{n} S_1(n,k) = n!$
    \item 제 2종 스털링 수: $n$개의 원소를 $k$개의 공집합이 아닌 부분집합으로 분할\\
    %초항(0-based, 삼각형): 1, 0, 1, 0, 1, 1, 0, 1, 3, 1, 0, 1, 7, 6, 1\\
    일반항: $S_2(n, k) = 1/k! \times \sum_{i=1}^{k} (-1)^{k-i} \times C(k, i) \times i^n$, 단 $S(0,0)=1$\\
    점화식: $S_2(n,0)=[n=0];$ $S_2(n,k) = S_2(n-1, k-1) + S_2(n-1, k) \times k$\\
    생성함수(EGF): $(\exp(x)-1)^k / k!$\\
    성질: A, B를 $n-k$, $\lfloor (k-1)/2 \rfloor$의 켜진 비트 위치라고 하면, $S_2(n, k) \bmod 2 = [A \cap B = \emptyset]$\\
    성질: $S_2(2n,n)$은 $n$이 fibbinary number(연속한 1 없음) 일 때만 홀수
    \item 벨 수 $B(n)$: $n$개의 원소를 분할하는 방법의 수\\
    초항(0-based): 1, 1, 2, 5, 15, 52, 203, 877, 4140, 21147, 115975\\
    일반항: $B(n) = \sum_{k=0}^{n} S_2(n, k)$, 몇 개의 상자를 버릴지 다 돌아보기\\
    점화식: $B(0)=1;$ $B(n) = \sum_{k=0}^{n-1} C(n-1, k) \times B(k)$\\
    생성함수(EGF): $\exp(\exp(x)-1)$
    \item 벨 수 $B(n, k)$: $n$개를 집합 $k$개로 분할하는 방법의 수(공집합 허용)\\
    %초항(0-based, 삼각형): 1 0 1 0 1 2 0 1 4 5 0 1 8 14 15\\
    일반항: $B(n, k) = \sum_{i=0}^{k} S_2(n, i) = \sum_{i=0}^k \frac{i^n}{i!}\sum_{j=0}^{k-i} \frac{(-1)^j}{j!}$
    \item 분할 수 $P(n)$: $n$을 자연수 몇 개의 합으로 나타내는 방법의 수, 순서 X\\
    초항(0-based): 1, 1, 2, 3, 5, 7, 11, 15, 22, 30, 42\\
    점화식: $P(0) = 1$, 팀노트 어딘가에 있는 코드로 $O(n \sqrt n)$ 가능
    \item 분할 수 $P(n,k)$: $n$을 $k$개의 자연수의 합으로 나타내는 방법의 수, 순서 X\\
    %초항(0-based, 삼각형): 1, 0, 1, 0, 1, 1, 0, 1, 1, 1, 0, 1, 2, 1, 1, 0, 1, 2, 2, 1, 1\\
    점화식: $P(0,0) = 1; P(n,0) = 0;$ $P(n,k) = P(n-1, k-1) + P(n-k, k)$\\
    성질: $\sum_{k=0}^{n} P(n, k) = P(n)$
    \item 피보나치 수 $F_{0}=0, F_{1}=1, F_n = F_{n-1} + F_{n-2}$\\
    일반항: $F_n = (\phi^n - \over{\phi}^n) / \sqrt{5}, \phi = \{(1+\sqrt{5})/2\}^n$\\
    생성함수(OGF): $F(x) = x/(1-x-x^2)$\\
    성질: $F_1 + \cdots + F_n = F_{n+2}-1, F_1^1 + \cdots + F_n^2 = F_nF_{n+1}$\\
    성질: $\text{gcd}(F_n,F_m)=F_{\text{gcd}(n,m)}, F_n^2 - F_{n+1}F_{n-1} = (-1)^{n-1}$
    \item 벨 수 $B(n, k)$ 식 전개\\
    $B(n,k)=\sum_{j=0}^{k}S(n,j) = \sum_{j=0}^{k} 1/j! \sum_{i=0}^{j} (-1)^{j-i} jCi \times i^n$\\
    $=\sum_{j=0}^{k}\sum_{i=0}^{j} \frac{(-1)^{j-i}}{i!(j-i)!}i^n=\sum_{i=0}^{k}\sum_{j=i}^{k}\frac{(-1)^{j-i}}{i!(j-i)!}i^n$\\
    $=\sum_{i=0}^{k}\sum_{j=0}^{k-i}\frac{(-1)^j}{i!j!}i^n = \sum_{i=0}^k \frac{i^n}{i!}\sum_{j=0}^{k-i} \frac{(-1)^j}{j!}$
\end{itemize}